{% extends 'SABundle::base.html.twig' %}

{% block body %}

    <div class="container">
        <h1>GrabData edit</h1>
        <div class="row">
            <div id="grabRule">
                <div class="form-group">
                    <button id="grabRule-test" class="btn btn-default " type="button">测试抓取</button>
                </div>
                {{ form_start(edit_form) }}
                <div class="row form-group">
                    {{ form_row(edit_form.urls) }}
                </div>
                <div class="row form-group">
                    {{ form_row(edit_form.data) }}
                </div>
                <div id="lev-1" class="form-group">
                    <p><label>一级页面抓取规则</label></p>
                    <div class="row grab-option-template">
                        <div class="col-sm-2">
                            {{ form_row(edit_form.grabOptions.first) }}
                        </div>
                        <div class="col-sm-8">
                            {{ form_row(edit_form.grabRule.first) }}
                        </div>
                        <div class="col-sm-2 text-center">
                            <button class="btn btn-default new text-center" type="button">继续添加</button>
                            <button class="btn btn-default del text-center" type="button">删除规则</button>
                        </div>
                    </div>
                </div>
                <div id="lev-2" class="form-group">
                    <p><label>二级页面抓取规则</label></p>
                    <div class="row">
                        <div class="col-sm-2">
                            {{ form_row(edit_form.grabOptions.second) }}
                        </div>
                        <div class="col-sm-8">
                            {{ form_row(edit_form.grabRule.second) }}
                        </div>
                        <div class="col-sm-2 text-center">
                            <button class="btn btn-default new text-center" type="button">继续添加</button>
                            <button class="btn btn-default del text-center" type="button">删除规则</button>
                        </div>
                    </div>
                </div>
                <div class="row form-group">
                    <input id="form_create" class="btn btn-success pull-right" type="submit" value="Create" />
                </div>
                {{ form_end(edit_form) }}
            </div>

        </div>
        <ul>
            <li>
                <a href="{{ path('admin_sa_grab-data_index') }}">Back to the list</a>
            </li>
            <li>
                {{ form_start(delete_form) }}
                <input type="submit" value="Delete">
                {{ form_end(delete_form) }}
            </li>
        </ul>
    </div>

{% endblock %}
{% block js %}
    {{ parent() }}
    <script>
        {% include 'SABundle:GrabRule:form.js.twig' %}
    </script>
{% endblock js %}